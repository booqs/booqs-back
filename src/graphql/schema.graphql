type Query {
    auth(token: String, provider: String): AuthToken
    search(query: String): [Card]
    bookmarks(booqId: BooqIdInput): [Bookmark]
    highlights(booqId: BooqIdInput): [Highlight]
}
type Mutation {
    addBookmark(bm: BookmarkInput): HasUuid
    addHighlight(hl: HighlightInput): HasUuid
}

input BooqIdInput {
    source: String!
    id: String!
}
input BookmarkInput {
    booqId: BooqIdInput
    path: [Int!]!
    uuid: String
}
input HighlightInput {
    booqId: BooqIdInput
    group: String!
    start: [Int!]
    end: [Int!]
    uuid: String!
}

type HasUuid {
    uuid: String
}
type BooqId {
    source: String!
    id: String!
}
type BooqPath {
    path: [Int!]
}
type BooqRange {
    start: BooqPath
    end: BooqPath
}

type Bookmark {
    uuid: String
    booqId: BooqId
    path: BooqPath
}
type Highlight {
    uuid: String
    booqId: BooqId
    range: BooqRange
    group: String
}
type Card {
    title: String
    author: String
}
type AuthToken {
    token: String
}
